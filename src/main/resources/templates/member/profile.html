<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프로필</title>
    <link rel="stylesheet" th:href="@{/css/member/profile.css}">

</head>
<body>
<div th:include="/include/header.html"></div>
<div class="container">
    <header>
        <!--        <img src="../image/logo.png" alt="로고">-->
        <p id="title">프로필</p>
    </header>
    <form action="/member/profile" method="post" enctype="multipart/form-data">
        <div id="imagePreview"></div>
        <label class="file-label">
            <input type="file" id="file" name="file" required>
        </label>
        <br>
        <br>
        <div>
            <label for="content"></label>
            <input type="text" id="content" name="content" placeholder="한줄소개">
        </div>
        <div class="select">
            <button type="button" class="selectBtn" id="E">사람 많은 도시파</button>
            <button type="button" class="selectBtn" id="I">나무 많은 자연파</button>
        </div>
        <div class="select">
            <button type="button" class="selectBtn" id="S">정해진 코스파</button>
            <button type="button" class="selectBtn" id="N">상상대로 모험파</button>
        </div>
        <div class="select">
            <button type="button" class="selectBtn" id="F">감성파</button>
            <button type="button" class="selectBtn" id="T">효율파</button>
        </div>
        <div class="select">
            <button type="button" class="selectBtn" id="J">꼼꼼한 계획파</button>
            <button type="button" class="selectBtn" id="P">끌리는대로 행동파</button>
        </div>
        <input type="hidden" id="mbtiResult" name="travelType" value="">
        <br>
        <br>
        <button type="submit" class="loginBtn">완료</button>
    </form>
</div>
<script th:src="@{/js/member/mbti.js}"></script>
<script>
    document.getElementById('file').addEventListener('change', function(event) {
        var file = event.target.files[0]; // Get the selected file
        var reader = new FileReader(); // Create a FileReader object to read the file

        reader.readAsDataURL(file); // Read the file as a data URL

        reader.onload = function(e) {
            var imagePreview = document.getElementById('imagePreview'); // Get the image preview div
            imagePreview.innerHTML = ''; // Clear previous content

            var imgElement = document.createElement('img'); // Create an image element
            imgElement.src = e.target.result; // Set the source of the image to the data URL

            imgElement.style.width = '100%'; // Set width to 100% to fill the container
            imgElement.style.height = '100%'; // Set height to 100% to fill the container
            imgElement.style.objectFit = 'cover'; // Ensure the image covers the container
            imgElement.style.borderRadius = '50%'; // Apply border-radius for a circular shape

            imagePreview.appendChild(imgElement); // Append the image element to the image preview div
        };
    });
</script>

<footer>
    <div th:include="/include/footer.html"></div>
</footer>

</body>
</html>